<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    </meta>
    <title>Thêm mới sản phẩm</title>
    <link rel="stylesheet" type="text/css" href="style2.css">
    <script src="taoid.js"></script>
    <script src="sanpham.js"></script>

</head>

<body>
    <header>
        <div id="thanhden">
            <div class="tt">
                <a class="sdt" href="sdt.html">Hotline: 0966 158 666 ( 8h-12h , 13h20-17h )</a>
                <a class="bando" href="bando.html">Tìm cửa hàng</a>
                <a class="hoptac" href="hoptac.html">Liên hệ hợp tác</a>
                <a class="them" href="themsanpham.html">Thêm sản phẩm</a>
                <a class="kiemtra" href="kiemtra.html">Kiểm tra đơn hàng</a>
                <a class="dangnhap" href="dangnhap.html">Đăng nhập</a>
                <div class="gach">|</div>
                <a class="dangki" href="dangki.html">Đăng kí</a>
            </div>
        </div>
        <div class="thanhmenu">
            <div class="mathang">
                <div class="logo">
                    <a href="Trangchu.html">
                        <img src="images/logo.jpg" width="200px" height="60px">
                    </a>
                </div>
                <div class="menu">
                    <ul>
                        <li><a href="sanpham.html">Điện Thoại</a>
                            <ul>
                                <li><a href="sanpham.html">Apple</a></li>
                                <li><a href="somilegant.html">SamSung</a></li>
                                <li><a href="vest.html">Oppo</a></li>
                                <li><a href="vestelegant.html">VSmart</a></li>
                                <li><a href="aophong.html">Xiaomi</a></li>
                                <li><a href="quankaki.html">Nokia</a></li>
                                <li><a href="quanau.html">Realme</a></li>
                            </ul>
                        </li>
                        <li><a href="gioithieu.html">Lap Top</a>
                            <ul>
                                <li><a href="sanpham.html">Asus</a></li>
                                <li><a href="somilegant.html">Dell</a></li>
                                <li><a href="vest.html">Macbook</a></li>
                                <li><a href="vestelegant.html">HP</a></li>
                                <li><a href="aophong.html">LG</a></li>
                                <li><a href="quankaki.html">Lenovo</a></li>
                                <li><a href="quanau.html">Máy Tính Để Bàn</a></li>
                            </ul>
                        </li>
                        <li><a href="lienhe.html">Máy Ảnh</a>
                            <ul>
                                <li><a href="sanpham.html">Canon</a></li>
                                <li><a href="somilegant.html">Sony</a></li>
                                <li><a href="vest.html">Fujifilm</a></li>
                                <li><a href="quankaki.html">Nikon</a></li>
                                <li><a href="quanau.html">Gopro</a></li>
                            </ul>
                        </li>
                        <li><a href="tintuc.html">Phụ Kiện</a>
                            <ul>
                                <li><a href="tintuc.html">Tai Nghe</a></li>
                                <li><a href="tuyendung.html">Sạc Pin Dự Phòng</a></li>
                                <li><a href="ctkh.html">Dây Cáp Sạc</a></li>
                                <li><a href="huongdan.html">Loa</a></li>
                                <li><a href="tinnoibo.html">Đồng Hồ Thông Minh</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
                <div class="timkiem">
                    <input type="text" placeholder="     Nhập thông tin cần tìm kiếm...">
                    <input type="button">
                </div>
                <div class="tim">
                    <a href="sanphamyeuthich.html">
                        <img src="images/tim.jpg" width="40px" height="35px">
                    </a>
                </div>
                <div class="giodo">
                    <a href="giohang.html">
                        <img src="images/giodo.jpg" width="40px" height="35px">
                    </a>
                </div>
            </div>
        </div>
        <div class="slider">
            <div name="slider-item" class="slider-item">
                <img border="0" src="images/slider.jpg" width="1100px" height="400px">
            </div>
            <div name="slider-item" class="slider-item">
                <img border="0" src="images/slider1.jpg" width="1100px" height="400px">
            </div>
            <a onclick="onclickXemAnhTruoc()" class="truoc">&#10094;</a>
            <a onclick="onclickXemAnhSau()" class="sau">&#10095;</a>
        </div>
    </header>
    <section>
        <div id="phangiua">
            <div class="them-san-pham">
                <label for="hinhAnh">Hình ảnh sản phẩm</label>
                <input type="text" id="hinhAnh">
                <label id="loiHinhAnh" for="hinhAnh" class="error"></label>

                <label for="ten">Tên sản phẩm</label>
                <input type="text" id="ten">
                <label id="loiTen" for="ten" class="error"></label>

                <label for="giaGoc">Giá gốc</label>
                <input type="number" id="giaGoc">
                <label id="loiGiaGoc" for="giaGoc" class="error"></label>

                <label for="phanTramGiamGia">Giảm giá(nhập từ 0-100)%</label>
                <input type="number" id="phanTramGiamGia">
                <label id="loiPhanTramGiamGia" for="phanTramGiamGia" class="error"></label>

                <label for="khuVuc">Khu vực</label>
                <input type="text" id="khuVuc">
                <label id="loiKhuVuc" for="phanTramGiamGia" class="error"></label>

                <button onclick="onClickKiemTraTruocKhiTaoSanPham()" class="btn">Tạo sản phẩm</button>
            </div>
        </div>
    </section>
    <footer>
        <div class="phancuoi">
            <div class="phancuoi1">
                <div id="dieukhoan">
                    <div class="dieukhoan1">Điều khoản</div>
                    <div class="chinhsach">Chính sách bảo mật</div>
                    <div class="hdsd">Hướng dẫn sử dụng</div>
                    <div class="link">copyright Thegioididong.com. Powered by Haravan interprise</div>
                </div>
                <div class="chungnhan">
                    <img src="images/chungnhan.jpg" width="220px" height="75px">
                </div>
                <div class="giay">Giấy CNĐKDN: 0301340497 được cấp ngày 20/01/1992, được sửa đổi lần thư 20 ngày
                    28/12/2015 bởi Sở Kế hoạch và Đầu Tư TP.HCM </div>
            </div>
        </div>
    </footer>
    <script>
        function onClickKiemTraTruocKhiTaoSanPham() {
            if (fromTaoSanPhamHopLe() == true) {
                onClickTaoSanPham();
            }
        }
        function fromTaoSanPhamHopLe() {
            var hopLe = true;
            var hinhAnh = document.getElementById('hinhAnh').value;
            var ten = document.getElementById('ten').value;
            var giaGoc = document.getElementById('giaGoc').value;
            var phanTramGiamGia = document.getElementById('phanTramGiamGia').value;
            var khuVuc = document.getElementById('khuVuc').value;

            var loiHinhAnh = document.getElementById('loiHinhAnh');
            var loiTen = document.getElementById('loiTen');
            var loiGiaGoc = document.getElementById('loiGiaGoc');
            var loiPhanTramGiamGia = document.getElementById('loiPhanTramGiamGia');
            var loiKhuVuc = document.getElementById('loiKhuVuc');
            loiHinhAnh.innerHTML = '';
            loiTen.innerHTML = '';
            loiGiaGoc.innerHTML = '';
            loiPhanTramGiamGia.innerHTML = '';
            loiKhuVuc.innerHTML = '';
            /* kiểm tra dữ liệu nhập vào đúng hay sai */
            if (hinhAnh == null || hinhAnh.length <= 0) {
                loiHinhAnh.innerHTML = "Hình ảnh không được để trống";
                hopLe = false;
            }
            if (ten == null || ten.length <= 0) {
                loiTen.innerHTML = "Tên sản phẩm không được để trống";
                hopLe = false
            }
            if (giaGoc == null || giaGoc.length <= 0) {
                loiGiaGoc.innerHTML = "Gía sản phẩm không được để trống";
                hopLe = false
            }
            if (phanTramGiamGia == null || phanTramGiamGia.length <= 0) {
                loiPhanTramGiamGia.innerHTML = "Phần trăm giảm giá không được để trống";
                hopLe = false
            }
            if (khuVuc == null || khuVuc <= 0) {
                loiKhuVuc.innerHTML = "Khu vực không được để trống";
            }
            return hopLe;
        }
        function onClickTaoSanPham() {
            var sanPham = taoDoiTuongTuInput();
            console.log(sanPham);

            /* Bước 3 lấy danh sách sản phẩm từ local lên */
            var jsondanhSachSanPham = localStorage.getItem('danhSachSanPhamASM');
            var danhSachSanPham = JSON.parse(jsondanhSachSanPham);

            /*  Bước 4 đưa thêm đối tượng sản phẩm đc tạo ra ở bước 2 thêm vào list sp */
            danhSachSanPham.push(sanPham);

            /* Bước 5 cập nhật lại list sp vào local */
            var jsondanhSachSanPham = JSON.stringify(danhSachSanPham);
            localStorage.setItem('danhSachSanPhamASM', jsondanhSachSanPham);
        }
        /* Bước 1 trụy cập các node input để lấy đc các thông tin */
        function taoDoiTuongTuInput() {
            var nodeHinhAnh = document.getElementById('hinhAnh');
            var hinhAnh = nodeHinhAnh.value;

            var nodeTen = document.getElementById('ten');
            var ten = nodeTen.value;

            var nodeGiaGoc = document.getElementById('giaGoc');
            var giaGoc = nodeGiaGoc.value;

            var nodePhanTramGiamGia = document.getElementById('phanTramGiamGia');
            var phanTramGiamGia = nodePhanTramGiamGia.value;

            var nodeKhuVuc = document.getElementById('khuVuc');
            var khuVuc = nodeKhuVuc.value;
            /*  Bước 2 tạo ra đối tượng các thuộc tính là các giá trị đã lấy đc từ step 1 */
            var sanPham = taoDoiTuongSanPham(hinhAnh, ten, giaGoc, phanTramGiamGia, khuVuc);
            return sanPham;


        }
    </script>
    <script>
        var viTriSliderHienThiHienTai = 0;
        var danhSachSliderItem = document.getElementsByName('slider-item')
        hienThiSliderItem(viTriSliderHienThiHienTai);

        function onclickXemAnhSau() {
            viTriSliderHienThiHienTai = viTriSliderHienThiHienTai + 1;
            if (viTriSliderHienThiHienTai == danhSachSliderItem.length) {
                viTriSliderHienThiHienTai = 0;
            }
            hienThiSliderItem(viTriSliderHienThiHienTai);
        }

        function onclickXemAnhTruoc() {
            viTriSliderHienThiHienTai = viTriSliderHienThiHienTai - 1;
            if (viTriSliderHienThiHienTai < 0) {
                viTriSliderHienThiHienTai = danhSachSliderItem.length;
                viTriSliderHienThiHienTai = 1;
            }
            hienThiSliderItem(viTriSliderHienThiHienTai);
        }

        function hienThiSliderItem(vitri) {
            for (var i = 0; i < danhSachSliderItem.length; i++) {
                danhSachSliderItem[i].style.display = 'none';
            }
            danhSachSliderItem[vitri].style.display = 'block';
        }
    </script>
</body>

</html>